<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
    <title>Temperature App</title>
    
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon.ico">
</head>
<body>
    <section id="header">
        <h1>Temperature Converter</h1>
        <p id="date"></p>
        <p  id="time"></p>
    </section>
    
    <section id="converter">
            <h1>Select Unit</h1>
            <div id="converter__selector__unit">
                <select name="degree__from" id="degree__from" onchange="select()" >
                    <option value="cel">Celcius</option>
                    <option value="far">Fahrenheit</option>
                    <option value="rea">Reamure</option>
                </select>
                <p>To : </p> 
                <select name="degree__to" id="degree__to" onchange="select()">
                    <option value="cel">Celcius</option>
                    <option value="far">Fahrenheit</option>
                    <option value="rea">Reamure</option>
                </select>
            </div>
            <h1>Enter Temperature number</h1>
            <input id="conver__number" type="text" onkeyup="conv()" onkeypress="validate(event)" />
            <h2>Converting Result:</h2>
            <p id="converter__result"></p>
    </section>

    <section id="background">
        <label for="background__label">Background Color :</label>
        <input id="background__input" type="text" />
        <button type="submit" onclick="change()" >Change</button>
    </section>

    <script>
        $(document).ready(function () {
        
            conv();
        var interval = setInterval(function () {
            var currentTIme = moment();
            $("#date").html(
                currentTIme.format("YYYY MMMM DD") +
                " " +
                currentTIme.format("dddd").substring(0, 3)
            );
            $("#time").html(currentTIme.format("hh:mm:ss A"));
        }, 100);
        });

        // End of document ready
        function validate(evt) {
        var theEvent = evt || window.event;

        // Handle paste
        if (theEvent.type === "paste") {
            key = event.clipboardData.getData("text/plain");
        } else {
            // Handle key press
            var key = theEvent.keyCode || theEvent.which;
            key = String.fromCharCode(key);
        }
        var regex = /[0-9]|\./;
        if (!regex.test(key)) {
            theEvent.returnValue = false;
            if (theEvent.preventDefault) theEvent.preventDefault();
        }
        }

        function select() {
            document.getElementById("converter__result").value = "";
            document.getElementById("converter__result").value = "";
        }
       
        function change() {
        document.body.style.backgroundColor =
            document.getElementById("background__input").value;
        }

        let Convert = (from,to,num1) => {
            console.log(from, to, num1);
            if(from == "cel") {
                if (to == "cel") {
                    return num1;
                }
                if (to == "rea") {
                    return (4 / 5) * num1;
                }
                if (to == "far") {
                    return (9 / 5) * num1 + 32;
                }
            }
            if(from == "rea") {
                if (to == "rea") {
                    return num1;
                }
                if (to == "cel") {
                    return (5 / 4) * num1;
                }
                if (to == "far") {
                    return (9 / 4) * num1 + 32;
                }
            }
            if(from == "far") {
                if (to == "far") {
                    return num1;
                }
                if (to == "cel") {
                    return (5 / 9) * (num1 - 32);
                }
                if (to == "rea") {
                    return (4 / 9) * (num1 - 32);
                }
            }
        }
        function conv() {
            const res = Convert(document.getElementById("degree__from").value,
            document.getElementById("degree__to").value,
            parseInt(document.getElementById("conver__number").value)
            );
            console.log(res);
            document.getElementById("converter__result").innerHTML = res;
        }
    </script>

    <script
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"
    ></script>
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"
    ></script>
</body>
</html>